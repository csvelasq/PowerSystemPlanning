<!--bind to MainWindowViewModel-->
<Window
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:t="clr-namespace:Simple.Wpf.Terminal;assembly=Simple.Wpf.Terminal"
        xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PowerSystemPlanningWpfApp"
        xmlns:localUtils="clr-namespace:PowerSystemPlanningWpfApp.ControlUtils"
        xmlns:browser="clr-namespace:PowerSystemPlanningWpfApp.ApplicationWide.WorkspaceBrowser"
        xmlns:xctk="http://schemas.xceed.com/wpf/xaml/toolkit" xmlns:Terminal="clr-namespace:Simple.Wpf.Terminal;assembly=Simple.Wpf.Terminal"
        xmlns:avalonDock="http://schemas.xceed.com/wpf/xaml/avalondock"
        x:Class="PowerSystemPlanningWpfApp.MainWindow"
        mc:Ignorable="d"
        Title="Power System Planning" Height="1000" Width="1200" WindowState="Maximized" Loaded="Window_Loaded"
        d:DataContext="{d:DesignInstance local:MainWindowViewModel}">
    <Window.CommandBindings>
        <CommandBinding Command="ApplicationCommands.New" Executed="NewCommandBinding_Executed" />
        <CommandBinding Command="ApplicationCommands.Open" Executed="OpenCommandBinding_Executed" />
        <CommandBinding Command="ApplicationCommands.Save" Executed="SaveCommandBinding_Executed" />
        <CommandBinding Command="ApplicationCommands.SaveAs" Executed="SaveAsCommandBinding_Executed" />
        <CommandBinding Command="ApplicationCommands.Close" Executed="CloseCommandBinding_Executed" />
    </Window.CommandBindings>
    <DockPanel LastChildFill="True">
        <DockPanel DockPanel.Dock="Top"  HorizontalAlignment="Left" VerticalAlignment="Center">
            <Menu DockPanel.Dock="Left" Background="White" Margin="0,5,0,5">
                <MenuItem Header="_File">
                    <MenuItem x:Name="menubtnNew" Header="_New" Command="ApplicationCommands.New">
                        <MenuItem.Icon>
                            <Image Source="pack://application:,,,/Resources/NewFile_16x.png" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem x:Name="menubtnOpen" Header="_Open" Command="ApplicationCommands.Open" >
                        <MenuItem.Icon>
                            <Image Source="pack://application:,,,/Resources/Open_16x.png" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem x:Name="menubtnSave" Header="_Save" Command="ApplicationCommands.Save">
                        <MenuItem.Icon>
                            <Image Source="pack://application:,,,/Resources/Save_16x.png" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem x:Name="menubtnSaveAs" Header="_Save As" Command="ApplicationCommands.SaveAs">
                        <MenuItem.Icon>
                            <Image Source="pack://application:,,,/Resources/SaveAs_16x.png" />
                        </MenuItem.Icon>
                    </MenuItem>
                    <localUtils:RecentFileList x:Name="RecentFileList" />
                    <!--<Separator />-->
                    <MenuItem x:Name="menubtnExit" Header="_Exit" Command="ApplicationCommands.Close">
                        <MenuItem.Icon>
                            <Image Source="pack://application:,,,/Resources/CloseSolution_16x.png" />
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>
                <MenuItem Header="_Model">
                    <MenuItem x:Name="menuLDC" Header="_Load Duration Curve" />
                    <MenuItem x:Name="menuCandidateLines" Header="_Candidate Transmission Lines" />
                </MenuItem>
                <MenuItem Header="_Analysis">
                    <MenuItem Header="_Optimal Power Flow" Click="opfMenuItem_Click" />
                    <MenuItem Header="_Load Duration Curve OPF" />
                </MenuItem>
                <MenuItem Header="Configuration">
                    <MenuItem Header="_Configuration" IsEnabled="False" />
                    <MenuItem Header="_Settings" IsEnabled="False" />
                </MenuItem>
                <MenuItem Header="Help">
                    <MenuItem x:Name="aboutMenuItem" Header="_About" Click="aboutMenuItem_Click" />
                </MenuItem>
            </Menu>
        </DockPanel>
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="300*" />
                <!--Contents-->
                <RowDefinition Height="5" />
                <!--Vertical Grid Splitter-->
                <RowDefinition Height="200" />
                <!--Log and shell-->
            </Grid.RowDefinitions>
            <GridSplitter Grid.Row="1" Height="5" HorizontalAlignment="Stretch" />
            <!--Workspace browser and contents-->
            <Grid Grid.Row="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="250" />
                    <ColumnDefinition Width="5" />
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <GridSplitter Grid.Column="1" Width="5" VerticalAlignment="Stretch" />
                <!--Workspace browser-->
                <browser:WorkspaceBrowserControl Grid.Column="0" />
                <!--Contents-->
                <avalonDock:DockingManager x:Name="dockingManager" Grid.Column="2">
                    <avalonDock:LayoutRoot>
                        <avalonDock:LayoutPanel Orientation="Horizontal">
                            <avalonDock:LayoutDocumentPaneGroup>
                                <avalonDock:LayoutDocumentPane>
                                    <avalonDock:LayoutDocument Title="Power System 1">
                                        <TextBox/>
                                    </avalonDock:LayoutDocument>
                                    <avalonDock:LayoutDocument Title="Power System 2">
                                        <TextBox/>
                                    </avalonDock:LayoutDocument>
                                </avalonDock:LayoutDocumentPane>
                            </avalonDock:LayoutDocumentPaneGroup>
                        </avalonDock:LayoutPanel>
                    </avalonDock:LayoutRoot>
                </avalonDock:DockingManager>
            </Grid>
            <!--Log and python shell-->
            <TabControl Grid.Row="3">
                <TabItem Header="Log">
                    <ScrollViewer>
                        <RichTextBox x:Name="LogRichTextBox" />
                    </ScrollViewer>
                </TabItem>
                <TabItem Header="Python Shell" />
            </TabControl>
        </Grid>
    </DockPanel>
</Window>
